/*!
 *  RouterRouter 1.0.0
 *
 *  A very basic JavaScript routing library extracted from Backbone’s Router.
 *
 *  Lovingly derived by Jason Garber (http://sixtwothree.org)
 *  Source code available at: https://github.com/jgarber623/RouterRouter
 *
 *  Backbone is
 *  (c) 2011-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 *
 *  RouterRouter is
 *  (c) 2013—present Jason Garber
 *
 *  Like Backbone, RouterRouter may be freely distributed under the MIT license.
 *
 *  For more about Backbone, visit: http://backbonejs.org
 */

!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.RouterRouter=e()}(this,function(){"use strict";var t=/[\-{}\[\]+?.,\\\^$|#\s]/g,e=/(\(\?)?:\w+/g,n=/\((.*?)\)/g,o=/\*\w+/g,i=/^[#\/]|\s+$/g,r=/\/$/,c=function(t){if(t)for(var e,n=Object.keys(t);"undefined"!=typeof(e=n.pop());)this.route(e,t[e])},u=function(t,e){var n=t.exec(e).slice(1);return n.map(function(t){return t?decodeURIComponent(t):null})},p=function(t){return t.replace(i,"").replace(r,"")},f=function(t,e){return Object.prototype.toString.call(t)==="[object "+e+"]"},s=function(i){return i=i.replace(t,"\\$&").replace(n,"(?:$1)?").replace(e,function(t,e){return e?t:"([^/?]+)"}).replace(o,"([^?]*?)"),new RegExp("^"+i+"(?:\\?([\\s\\S]*))?$")},a=function(t){this.options="undefined"!=typeof t?t:{},this.location=window.location,c(this.options.routes)};return a.prototype.route=function(t,e,n){f(t,"RegExp")||(t=s(t)),f(e,"Function")&&(n=e,e=""),n||(n=this.options[e]);var o=p(this.location.pathname);if(t.test(o)){var i=u(t,o);f(n,"Function")&&n.apply(this,i)}return this},a});