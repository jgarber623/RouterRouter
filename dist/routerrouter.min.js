/*!
 *  RouterRouter 0.1.0
 *
 *  A very basic JavaScript routing library extracted from Backbone's Router.
 *
 *  Lovingly derived by Jason Garber.
 *  Source code available at: https://github.com/jgarber623/RouterRouter
 *
 *  Backbone is
 *  (c) 2011-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 *
 *  RouterRouter is
 *  (c) 2013â€”present Jason Garber
 *
 *  Like Backbone, RouterRouter may be freely distributed under the MIT license.
 *
 *  For more about Backbone, visit: http://backbonejs.org
 */

!function(a,b){"use strict";"object"==typeof exports&&module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.RouterRouter=b()}("object"==typeof window&&window||this,function(){"use strict";var a=/[\-{}\[\]+?.,\\\^$|#\s]/g,b=/(\(\?)?:\w+/g,c=/\((.*?)\)/g,d=/\*\w+/g,e=/^[#\/]|\s+$/g,f=/^\/+|\/+$/g,g=/\/$/,h=function(a){return"function"==typeof a},i=function(a){this.options="undefined"!=typeof a?a:{},this.options.routes&&(this.routes=this.options.routes),this.options.root||(this.options.root="/"),this.location=window.location,this.root=this.options.root,this.root=("/"+this.root+"/").replace(f,"/"),this._bindRoutes()};return i.prototype={_bindRoutes:function(){if(this.routes)for(var a,b=Object.keys(this.routes);"undefined"!=typeof(a=b.pop());)this.route(a,this.routes[a])},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return c.map(function(a){return a?decodeURIComponent(a):null})},_getFragment:function(a){return a.replace(e,"").replace(g,"")},_routeToRegExp:function(e){return e=e.replace(a,"\\$&").replace(c,"(?:$1)?").replace(b,function(a,b){return b?a:"([^/]+)"}).replace(d,"(.*?)"),new RegExp("^"+e+"$")},route:function(a,b,c){a=this._routeToRegExp(a),h(b)&&(c=b,b=""),c||(c=this.options[b]);var d=this._getFragment(this.location.pathname);if(a.test(d)){var e=this._extractParameters(a,d);h(c)&&c.apply(this,e)}return this}},i});