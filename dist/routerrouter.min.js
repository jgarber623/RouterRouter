/*!
 *  RouterRouter 1.0.0
 *
 *  A very basic JavaScript routing library extracted from Backboneâ€™s Router.
 *
 *  Lovingly derived by Jason Garber (http://sixtwothree.org)
 *  Source code available at: https://github.com/jgarber623/RouterRouter
 *
 *  Backbone is
 *  (c) 2011-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 *
 *  RouterRouter is
 *  (c) 2013-present Jason Garber
 *
 *  Like Backbone, RouterRouter may be freely distributed under the MIT license.
 *
 *  For more about Backbone, visit: http://backbonejs.org
 */

!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.RouterRouter=t()}(this,function(){"use strict";var e=/[\-{}\[\]+?.,\\\^$|#\s]/g,t=/(\(\?)?:\w+/g,n=/\((.*?)\)/g,o=/\*\w+/g,r=/^[#\/]|\s+$/g,i=/\/$/,u=function(e){if(e)for(var t,n=Object.keys(e);"undefined"!=typeof(t=n.pop());)this.route(t,e[t])},c=function(e,t){var n=e.exec(t).slice(1);return n.map(function(e){return e?decodeURIComponent(e):null})},p=function(e){return e.replace(r,"").replace(i,"")},f=function(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"},s=function(r){return r=r.replace(e,"\\$&").replace(n,"(?:$1)?").replace(t,function(e,t){return t?e:"([^/?]+)"}).replace(o,"([^?]*?)"),new RegExp("^"+r+"(?:\\?([\\s\\S]*))?$")},a=function(e){this.options="undefined"!=typeof e?e:{},u(this.options.routes)};return a.prototype.route=function(e,t,n){f(e,"RegExp")||(e=s(e)),f(t,"Function")&&(n=t,t=""),n||(n=this.options[t]);var o=p(window.location.pathname);if(e.test(o)){var r=c(e,o);f(n,"Function")&&n.apply(this,r)}return this},a});