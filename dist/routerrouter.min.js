/*!
 *  RouterRouter
 *
 *  A very basic JavaScript routing library extracted from Backbone's Router.
 *
 *  Lovingly derived by Jason Garber (http://sixtwothree.org)
 *  Source code available at: https://github.com/jgarber623/RouterRouter
 *
 *  Backbone is
 *  (c) 2011-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 *
 *  RouterRouter is
 *  (c) 2013â€”present Jason Garber
 *
 *  Like Backbone, RouterRouter may be freely distributed under the MIT license.
 *
 *  For more about Backbone, visit: http://backbonejs.org
 */


!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.RouterRouter=e()}(this,function(){"use strict";var t=/[\-{}\[\]+?.,\\\^$|#\s]/g,e=/(\(\?)?:\w+/g,o=/\((.*?)\)/g,n=/\*\w+/g,r=/^[#\/]|\s+$/g,i=/\/$/,s=function(t,e){return Object.prototype.toString.call(t)==="[object "+e+"]"},u=function(t){this.options="undefined"!=typeof t?t:{},this.options.routes&&(this.routes=this.options.routes),this.location=window.location,this._bindRoutes()};return u.prototype={_bindRoutes:function(){if(this.routes)for(var t,e=Object.keys(this.routes);"undefined"!=typeof(t=e.pop());)this.route(t,this.routes[t])},_extractParameters:function(t,e){var o=t.exec(e).slice(1);return o.map(function(t){return t?decodeURIComponent(t):null})},_getFragment:function(t){return t.replace(r,"").replace(i,"")},_routeToRegExp:function(r){return r=r.replace(t,"\\$&").replace(o,"(?:$1)?").replace(e,function(t,e){return e?t:"([^/?]+)"}).replace(n,"([^?]*?)"),new RegExp("^"+r+"(?:\\?([\\s\\S]*))?$")},route:function(t,e,o){s(t,"RegExp")||(t=this._routeToRegExp(t)),s(e,"Function")&&(o=e,e=""),o||(o=this.options[e]);var n=this._getFragment(this.location.pathname);if(t.test(n)){var r=this._extractParameters(t,n);s(o,"Function")&&o.apply(this,r)}return this}},u});